h1. Clearance

Simple, complete Rails authentication. 

h2. Features

* email & password
* modules, not a generator
* gem, not a plugin
* should & factory_girl tests included

h2. Schema

Change your User model so it has these attributes.

    change_table(:users) do |t|
		  t.column :email, :string
		  t.column :crypted_password, :string, :limit => 40
		  t.column :salt, :string, :limit => 40
		  t.column :remember_token, :string
		  t.column :remember_token_expires_at, :datetime
		end

	  add_index :users, [:email, :password]

h2. Model

In app/models/user.rb:

    include Clearance::Model

h2. Controllers

In app/controllers/application_controller.rb:

    include Clearance::ApplicationController

In app/controllers/sessions_controller.rb:

    include Clearance::SessionsController

In app/controllers/users_controller.rb:

    include Clearance::UsersController

h2. Routes

    map.login  '/login',  :controller => 'sessions', :action => 'new'
    map.logout '/logout', :controller => 'sessions', :action => 'destroy'
    map.resource :session

h2. Tests

The tests use Shoulda and Factory Girl.

In test/test_helper.rb: 

    include Clearance::TestHelper

In test/unit/user_test.rb: 

    include Clearance::UnitTest

In test/functional/sessions_controller_test.rb: 

    include Clearance::SessionsControllerTest

In test/functional/sessions_controller_test.rb: 

    include Clearance::UsersControllerTest


